# AgentPay Configuration (INTERNAL ONLY)
# For AgentsPay platform operations; SaaS customers do not need this file.

# Demo mode: true = internal ledger (testing), false = real BSV
AGENTPAY_DEMO=false

# Master key for admin operations (legacy single-key mode)
AGENTPAY_MASTER_KEY=your-master-key-here

# Recommended rotation mode:
# - CURRENT is active key
# - PREVIOUS remains valid during rotation window
AGENTPAY_MASTER_KEY_CURRENT=
AGENTPAY_MASTER_KEY_PREVIOUS=

# Optional admin wallet step-up auth (recommended)
ADMIN_WALLET_2FA_REQUIRED=false
ADMIN_WALLET_ADDRESSES=
ADMIN_WALLET_SESSION_MINUTES=15
ADMIN_WALLET_CHALLENGE_TTL_SECONDS=120

# BSV Network: testnet or mainnet
BSV_NETWORK=testnet

# Platform wallet (receives escrow fees)
PLATFORM_WALLET_PRIVKEY=your-platform-wallet-private-key
PLATFORM_WALLET_ADDRESS=your-platform-wallet-address

# Escrow mode: platform | multisig
AGENTPAY_ESCROW_MODE=platform

# Required if AGENTPAY_ESCROW_MODE=multisig (2-of-3 buyer/provider/admin)
# Only public key is needed; admin signs tx externally.
AGENTPAY_ADMIN_MULTISIG_PUBKEY=

# Server port
PORT=3100

# Frontend URL (for CORS)
ALLOWED_ORIGINS=http://localhost:3001

# Prompt injection guard
PROMPT_GUARD_ENABLED=true
PROMPT_GUARD_WARN_SCORE=25
PROMPT_GUARD_BLOCK_SCORE=60
PROMPT_GUARD_MAX_NODES=1200
PROMPT_GUARD_MAX_STRING_CHARS=2000
PROMPT_GUARD_MAX_AGGREGATE_CHARS=20000
